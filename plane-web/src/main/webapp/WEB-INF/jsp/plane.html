<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>无人机位置</title>
<link rel="icon" type="image/png" href="i/ico.png" sizes="16x16">

	<link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css" />
    <script src="http://cache.amap.com/lbs/static/es5.min.js"></script>
    <script type="text/javascript" src='//webapi.amap.com/maps?v=1.4.6&key=82f9e75505b649be9ab81a45ae34aa14'></script>
     <script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
     <script type="text/javascript" src="${s.base}/res/js/home.js"></script>
	 <script type="text/javascript" src="${s.base}/res/js/chat.js"></script>
</head>
<style>
.headerUav{
  position:absolute;
  z-index:99;
  width:400px;;
  height:50px;
  margin:0 auto;
  text-align:center;
  background-color:red;
  left:50%;
  line-height:50px;
  left: 50%;
  transform: translate(-50%, 0);
  border-radius:10px;
  -moz-border-radius:10px; /* 老的 Firefox */
  opacity:0.7;
  color:#fff;
  margin-top:20px;
}
</style>
<body>
<input type="hidden" id="base" value="${s.base}"><br/>
<input type="hidden" id="plane" value="${uav2.deviceid!}"><br/>
<input type="hidden" id="peoplerole" value="${role!}"><br/>
<div class="headerUav">
<font size="4">飞机状态：<span id="fightStatus">暂无</span></font>
</div>
<div id="container"></div>
           
        <!-- UI组件库 1.0 -->
        <script src="//webapi.amap.com/ui/1.0/main.js?v=1.0.11"></script>
        <script type="text/javascript">
           
			var uavdata = ${uav};
            //创建地图
            var map = new AMap.Map('container', {
                zoom: 12,
                center: uavdata.position, //中心点坐标
            });
            map.plugin(["AMap.Scale"],function(){    //加载比例尺插件      
     	       var scale = new AMap.Scale({
     	        visible: true,
     			position:'LB',
     			}); 
     	        map.addControl(scale);  
     	        scale.show();
     	 	});
            
            
	        var planeMarker = new AMap.Marker({
	                map: map,
                    position: uavdata.position,
                    icon: new AMap.Icon({
                        size: new AMap.Size(32, 32), //图标大小
                        image: 'i/fly-32.png',
                        offset: new AMap.Pixel(-16, -16) // 相对于基点的偏移位置
                    }),
             });
	        map.add(planeMarker);  
	        
	        
           
        </script>
	</body>
</html>